<div class="auth-page">
  <div class="auth-container">
    <div class="auth-wrapper">
      <!-- Header -->
      <div class="auth-header">
        <div class="brand-section">
          <h1 class="brand-title">FUNNY BOY</h1>
          <p class="brand-subtitle">Coffee & Tea</p>
        </div>
        <h2 class="auth-title">Quên mật khẩu</h2>
        <p class="auth-subtitle">Nhập số điện thoại để nhận mã OTP</p>
      </div>

      <!-- Form -->
      <form
        [formGroup]="forgotPasswordForm"
        (ngSubmit)="onSubmit()"
        class="auth-form"
      >
        <!-- Phone Number -->
        <div class="form-group">
          <label class="form-label">
            <i class="fas fa-phone"></i>
            Số điện thoại
          </label>
          <div class="input-wrapper">
            <input
              type="tel"
              class="form-control"
              formControlName="phoneNumber"
              placeholder="Nhập số điện thoại"
              [class.error]="isFieldInvalid('phoneNumber')"
            />
            <i class="input-icon fas fa-mobile-alt"></i>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('phoneNumber')">
            <i class="fas fa-exclamation-circle"></i>
            <span
              *ngIf="forgotPasswordForm.get('phoneNumber')?.errors?.['required']"
            >
              Vui lòng nhập số điện thoại
            </span>
            <span
              *ngIf="forgotPasswordForm.get('phoneNumber')?.errors?.['pattern']"
            >
              Số điện thoại không hợp lệ
            </span>
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="forgotPasswordForm.invalid || isLoading"
        >
          <i class="fas fa-paper-plane" *ngIf="!isLoading"></i>
          <i class="fas fa-spinner fa-spin" *ngIf="isLoading"></i>
          {{ isLoading ? "Đang gửi..." : "Gửi mã OTP" }}
        </button>

        <!-- Back to Login -->
        <div class="auth-links">
          <a routerLink="/login" class="auth-link">
            <i class="fas fa-arrow-left"></i>
            Quay lại đăng nhập
          </a>
        </div>
      </form>

      <!-- Error Message -->
      <div class="alert alert-danger" *ngIf="errorMessage">
        <i class="fas fa-exclamation-triangle"></i>
        {{ errorMessage }}
      </div>

      <!-- Success Message -->
      <div class="alert alert-success" *ngIf="successMessage">
        <i class="fas fa-check-circle"></i>
        {{ successMessage }}
      </div>
    </div>
  </div>
</div>
