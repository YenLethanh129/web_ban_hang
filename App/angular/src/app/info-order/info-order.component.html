<div class="container">
  <div class="info-order-section">
    <div class="page-header">
      <h2>Lịch sử đơn hàng</h2>
      <p class="subtitle">
        Theo dõi tình trạng và chi tiết các đơn hàng của bạn
      </p>
    </div>

    <!-- Loading state -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner-border" role="status">
        <span class="sr-only">Đang tải...</span>
      </div>
      <p>Đang tải thông tin đơn hàng...</p>
    </div>

    <!-- Orders list -->
    <div *ngIf="!isLoading && orders.length > 0" class="orders-list">
      <div
        class="order-card"
        *ngFor="let order of orders; trackBy: trackByOrderId"
      >
        <div class="order-header">
          <div class="order-info">
            <h4 class="order-id">Đơn hàng #{{ order.order_id }}</h4>
            <p class="order-date">
              {{ order.order_date | date : "dd/MM/yyyy HH:mm" }}
            </p>
          </div>
          <div class="order-status">
            <span class="status-badge" [ngClass]="getStatusClass(order.status)">
              {{ orderStatus[order.status] }}
            </span>
          </div>
        </div>

        <div class="order-content">
          <div class="order-details">
            <div class="detail-item">
              <i class="fas fa-user"></i>
              <div class="detail-content">
                <span class="label">Người nhận:</span>
                <span class="value">{{ "Lê Thanh Yên" }}</span>
              </div>
            </div>

            <div class="detail-item">
              <i class="fas fa-map-marker-alt"></i>
              <div class="detail-content">
                <span class="label">Địa chỉ:</span>
                <span class="value">{{ "29A Hậu Giang" }}</span>
              </div>
            </div>

            <div class="detail-item">
              <i class="fas fa-phone"></i>
              <div class="detail-content">
                <span class="label">Số điện thoại:</span>
                <span class="value">{{ "0123456789" }}</span>
              </div>
            </div>

            <div class="detail-item">
              <i class="fas fa-sticky-note"></i>
              <div class="detail-content">
                <span class="label">Ghi chú:</span>
                <span class="value">{{
                  order.note || "Không có ghi chú"
                }}</span>
              </div>
            </div>
          </div>

          <div class="payment-info">
            <h5>Thông tin thanh toán</h5>
            <div class="payment-details">
              <div class="payment-item">
                <span class="label">Phương thức:</span>
                <span
                  class="value payment-method"
                  [ngClass]="getPaymentMethodClass(order.payment_method)"
                >
                  <i [class]="getPaymentMethodIcon(order.payment_method)"></i>
                  {{ getPaymentMethodText(order.payment_method) }}
                </span>
              </div>

              <div class="payment-item">
                <span class="label">Trạng thái thanh toán:</span>
                <span
                  class="value payment-status"
                  [ngClass]="
                    getPaymentStatusClass(order.payment_status || 'PENDING')
                  "
                >
                  {{
                    orderPaymentStatus[
                      order.payment_status ? order.payment_status : "PENDING"
                    ]
                  }}
                </span>
              </div>

              <div class="payment-item total">
                <span class="label">Tổng tiền:</span>
                <span class="value total-amount"
                  >{{ order.total_money | number }} VNĐ</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- <div class="order-actions">
          <button
            class="btn btn-outline-primary"
            [routerLink]="['/order-details', order.order_id]"
          >
            <i class="fas fa-eye"></i>
            Xem chi tiết
          </button>

          <button
            class="btn btn-secondary"
            *ngIf="canCancelOrder(order.status)"
            (click)="cancelOrder(order.order_id)"
          >
            <i class="fas fa-times"></i>
            Hủy đơn hàng
          </button>

          <button
            class="btn btn-success"
            *ngIf="canReorder(order.status)"
            (click)="reorder(order.order_id)"
          >
            <i class="fas fa-redo"></i>
            Đặt lại
          </button>
        </div> -->
      </div>
    </div>

    <!-- Empty state -->
    <div *ngIf="!isLoading && orders.length === 0" class="empty-state">
      <div class="empty-icon">
        <i class="fas fa-shopping-bag"></i>
      </div>
      <h3>Chưa có đơn hàng nào</h3>
      <p>Bạn chưa có đơn hàng nào. Hãy bắt đầu mua sắm ngay!</p>
      <button class="btn btn-primary" [routerLink]="['/']">
        <i class="fas fa-shopping-cart"></i>
        Bắt đầu mua sắm
      </button>
    </div>
  </div>
</div>
